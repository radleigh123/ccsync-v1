import"./core-inoSP3gc.js";import{s as a}from"./sidebar-B6qmYeWP.js";import{a as m}from"./navigation-D4xvAI9A.js";import"./bootstrap.esm-C8zcUHWS.js";function d(){const e=localStorage.getItem("user");if(!e){window.location.href="/ccsync-v1/pages/auth/login.html";return}const t=localStorage.getItem("selected_user");let n,r=!0;if(t){n=JSON.parse(t);const o=JSON.parse(e);r=n.id===o.id,localStorage.removeItem("selected_user")}else n=JSON.parse(e);const l={name:document.querySelector("#user-name-full"),email:document.querySelector("#user-email"),bio:document.querySelector("#user-bio"),image:document.querySelector("#img-profile")},i=document.getElementById("edit-profile-btn");if(i&&(i.style.display=r?"block":"none"),!r){const o=document.createElement("button");o.className="btn btn-outline-secondary ms-2",o.textContent="Back to List",o.onclick=function(){window.location.href="/ccsync-v1/pages/home/home.html"},i&&i.parentNode&&i.parentNode.appendChild(o)}u(n,l);const c=document.querySelector("#img-profile");n.role=="ADMIN"&&c&&(c.src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTXfJd8GSrBKC5rkiuwyqorIs8LJboDjI2IYw&s");const s=document.querySelector("#logout-link");s&&s.addEventListener("click",o=>{o.preventDefault(),localStorage.removeItem("user"),window.location.href="/"})}function u(e,t){t.name&&(t.name.textContent=e.display_name||`${e.name_first||"SERVER ERROR: no first name"} ${e.name_last||"SERVER ERROR: no last name"}`.trim()||"User"),t.email&&(t.email.textContent=e.email||"SERVER ERROR: no email found"),t.bio&&(t.bio.textContent=e.bio||"This user hasn't set a bio yet.")}document.addEventListener("DOMContentLoaded",()=>{d(),m(),a(),document.getElementById("edit-profile-btn").onclick=function(){location.href="/ccsync-v1/pages/settings/settings.html"}});
