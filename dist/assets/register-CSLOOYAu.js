import{g as d}from"./core-inoSP3gc.js";import{P as u}from"./bootstrap.esm-C8zcUHWS.js";async function m(){await d()&&(window.location.href="/ccsync-v1/pages/home/home.html")}document.addEventListener("DOMContentLoaded",()=>{m();const t=document.querySelector(".needs-validation");t.addEventListener("submit",async o=>{o.preventDefault();const a=document.querySelector("#firstNameInput").value,n=document.querySelector("#lastNameInput").value,s=document.querySelector("#idinput").value,i=document.querySelector("#emailinput").value,c=document.querySelector("#passwordInput").value,l=document.querySelector("#confirmPasswordInput").value;try{const r=await fetch("http://localhost:8000/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:`${a} ${n}`,email:i,password:c,password_confirmation:l,id_number:s})}),e=await r.json();if(!r.ok)throw new Error(e.message||e.errors?.email?.[0]||"Registration failed");console.log("Registration successful:",e),window.location.href="/ccsync-v1/pages/auth/login.html"}catch(r){console.error("Registration error:",r);let e=document.querySelector("#error-msg");e||(e=document.createElement("div"),e.id="error-msg",e.classList.add("alert","alert-danger","mt-3"),t.appendChild(e)),e.textContent=r.message||"Registration failed",e.style.display="block"}})});(()=>{const t=document.querySelectorAll(".needs-validation");Array.from(t).forEach(o=>{o.addEventListener("submit",a=>{o.checkValidity()||(a.preventDefault(),a.stopPropagation()),o.classList.add("was-validated")},!1)})})();document.querySelectorAll('[data-bs-toggle="popover"]').forEach(t=>{new u(t)});
