import"./styles-BPnv8btu.js";document.addEventListener("DOMContentLoaded",function(){const m=document.getElementById("sidebar-toggle"),n=document.getElementById("sidebar");document.getElementById("content-area"),localStorage.getItem("sidebar-collapsed")==="true"&&n.classList.add("collapsed"),m.addEventListener("click",function(){n.classList.toggle("collapsed"),localStorage.setItem("sidebar-collapsed",n.classList.contains("collapsed"))});const r=document.getElementById("v-pills-profile-tab"),a=document.getElementById("v-pills-profile");let i=!1;const u="/ccsync-v1/pages/profile/profile.html",s="/js/pages/profile/profile.js";async function l(){if(!i)try{const e=await fetch(u,{cache:"no-store"});if(!e.ok)throw new Error("Failed to fetch profile: "+e.status);const p=await e.text(),c=new DOMParser().parseFromString(p,"text/html"),f=c.querySelector("main")||c.querySelector(".container")||c.body;a.innerHTML=f?f.innerHTML:p;try{const t=await import(s);t&&typeof t.initProfile=="function"&&t.initProfile()}catch{if(!document.querySelector(`script[src="${s}"]`)){const o=document.createElement("script");o.type="module",o.src=s,o.defer=!0,document.body.appendChild(o)}}i=!0}catch(e){console.error(e),a.innerHTML='<p class="text-danger">Failed to load profile.</p>'}}r.addEventListener("click",l),r.addEventListener("shown.bs.tab",l),r.classList.contains("active")&&l();const d=document.querySelector("#v-pills-logout-tab");d&&d.addEventListener("click",e=>{e.preventDefault(),localStorage.removeItem("user"),window.location.href="/"})});
