import"./styles-BPnv8btu.js";document.addEventListener("DOMContentLoaded",function(){const m=document.getElementById("sidebar-toggle"),n=document.getElementById("sidebar");document.getElementById("content-area"),localStorage.getItem("sidebar-collapsed")==="true"&&n.classList.add("collapsed"),m.addEventListener("click",function(){n.classList.toggle("collapsed"),localStorage.setItem("sidebar-collapsed",n.classList.contains("collapsed"))});const r=document.getElementById("v-pills-profile-tab"),a=document.getElementById("v-pills-profile");let i=!1;const u="/ccsync-v1/src/pages/profile/profile.html",c="/ccsync-v1/src/js/pages/profile/profile.js";async function s(){if(!i)try{const e=await fetch(u,{cache:"no-store"});if(!e.ok)throw new Error("Failed to fetch profile: "+e.status);const p=await e.text(),l=new DOMParser().parseFromString(p,"text/html"),f=l.querySelector("main")||l.querySelector(".container")||l.body;a.innerHTML=f?f.innerHTML:p;try{const t=await import(c);t&&typeof t.initProfile=="function"&&t.initProfile()}catch{if(!document.querySelector(`script[src="${c}"]`)){const o=document.createElement("script");o.type="module",o.src=c,o.defer=!0,document.body.appendChild(o)}}i=!0}catch(e){console.error(e),a.innerHTML='<p class="text-danger">Failed to load profile.</p>'}}r.addEventListener("click",s),r.addEventListener("shown.bs.tab",s),r.classList.contains("active")&&s();const d=document.querySelector("#v-pills-logout-tab");d&&d.addEventListener("click",e=>{e.preventDefault(),localStorage.removeItem("user"),window.location.href="/"})});
