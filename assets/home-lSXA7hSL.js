import{g as l}from"./core-inoSP3gc.js";import{s as d}from"./sidebar-DH3GmQJw.js";import"./bootstrap.esm-C8zcUHWS.js";import"./navigation-Bj4Ls0Yf.js";let o=null,a=[];document.addEventListener("DOMContentLoaded",async()=>{await m(),d(),await p(),h()});async function m(){o=await l(),o||(window.location.href="/ccsync-v1/pages/auth/login.html")}async function p(){const r=document.getElementById("totalCSSStudents");r.textContent="1256";const n=document.getElementById("registeredMembers"),e=document.getElementById("paidMembership");try{const t=await fetch("http://localhost:8000/api/member",{headers:{Authorization:`Bearer ${o.firebase_token}`,Accept:"application/json"}});if(!t.ok){const s=await t.json();throw new Error(s.message||`HTTP error! status: ${t.status}`)}a=(await t.json()).members,n.textContent=a.length;const c=a.filter(s=>s.is_paid).length;e.textContent=c}catch(t){console.error("Error fetching hero stats:",t)}}async function h(){const r=[];try{const e=await fetch("http://localhost:8000/api/event?upcoming=true",{headers:{Authorization:`Bearer ${o.firebase_token}`,Accept:"application/json"}});if(!e.ok){const i=await e.json();throw new Error(i.message||`HTTP error! status: ${e.status}`)}const t=await e.json();r.push(...t.events)}catch(e){console.error("Error fetching event list:",e)}const n=document.getElementById("eventList");if(n.innerHTML="",r.length===0){n.innerHTML=`
            <p class="display-6 text-center" style="font-family: 'Courier New', Courier, monospace;">No events currently scheduled.</p>
        `;return}r.forEach(e=>{const t=document.createElement("div");t.id="eventItem",t.className="card px-0",t.style.width="18rem",t.style.borderRadius="20px",t.innerHTML=`
            <img src="https://placehold.co/200x150/orange/white?text=image&font=roboto" class="card-img-top" alt="Event image placeholder" />
            <div class="card-body">
                <p class="card-title h5 text-center">${e.title}</p>
            </div>`,n.appendChild(t)})}
