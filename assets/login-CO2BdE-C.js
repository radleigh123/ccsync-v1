import"./core-K0QlMDUd.js";document.addEventListener("DOMContentLoaded",()=>{const o=document.querySelector("#login-form"),e=document.querySelector("#error-msg");o.addEventListener("submit",async t=>{t.preventDefault();const r=document.querySelector("#idNumberInput").value,s=document.querySelector("#passwordInput").value;try{console.log(JSON.stringify({idNumber:r,password:s}));const n=await(await fetch("http://localhost:8080/demo/ccsync/auth/login.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idNumber:r,password:s}),credentials:"include"})).json();n.success?(localStorage.setItem("user",JSON.stringify(n.user)),window.location.href="/ccsync-v1/pages/profile/profile.html"):e.textContent=n.message||"Login failed"}catch{e.textContent="Error connecting to server"}})});(()=>{const o=document.querySelectorAll(".needs-validation");Array.from(o).forEach(e=>{e.addEventListener("submit",t=>{e.checkValidity()||(t.preventDefault(),t.stopPropagation()),e.classList.add("was-validated")},!1)})})();
