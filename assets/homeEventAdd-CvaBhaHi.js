import{g as u}from"./core-inoSP3gc.js";import{s as v}from"./sidebar-DH3GmQJw.js";import"./mockStorage-99A_-fjr.js";import"./bootstrap.esm-C8zcUHWS.js";import"./navigation-Bj4Ls0Yf.js";import"./data-CZaJBQaZ.js";let e=null;document.addEventListener("DOMContentLoaded",async()=>{await p(),v(),document.querySelector("form").addEventListener("submit",g)});async function p(){e=await u(),e||(window.location.href="/ccsync-v1/pages/auth/login.html")}async function g(n){n.preventDefault();const o=document.getElementById("eventName").value,a=document.getElementById("eventDate").value,r=document.getElementById("fromTime").value,i=document.getElementById("toTime").value,s=document.getElementById("venue").value,m=document.getElementById("registrationStart").value,c=document.getElementById("registrationEnd").value,d=document.getElementById("maxParticipants").value;try{{const t=await fetch("http://localhost:8000/api/events",{method:"POST",headers:{Authorization:`Bearer ${e.firebase_token}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:o,venue:s,event_date:a,time_from:r,time_to:i,registration_start:m,registration_end:c,max_participants:parseInt(d)})});if(!t.ok){const l=await t.json();throw new Error(l.message||`HTTP error! status: ${t.status}`)}const f=await t.json()}window.location.href="/ccsync-v1/pages/home/event/view-event.html",this.reset()}catch(t){console.error("Error adding event:",t)}}
