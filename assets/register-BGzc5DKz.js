import"./styles-CZ9-VYpJ.js";import{P as l}from"./bootstrap.esm-C-2Lw7gd.js";document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector(".needs-validation");t.addEventListener("submit",async o=>{o.preventDefault();const n=document.querySelector("#firstNameInput").value,s=document.querySelector("#lastNameInput").value,c=document.querySelector("#idinput").value,d=document.querySelector("#emailinput").value,i=document.querySelector("#passwordInput").value;try{const e=await(await fetch("http://localhost:8080/demo/ccsync/auth/register.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:n,lastName:s,idNumber:c,email:d,password:i}),credentials:"include"})).json();if(e.success)window.location.href="/ccsync-v1/pages/auth/login.html";else{let r=document.querySelector("#error-msg");r||(r=document.createElement("div"),r.id="error-msg",r.classList.add("alert","alert-danger","mt-3"),t.appendChild(r)),r.textContent=e.message||"Registration failed"}}catch(a){console.error("Registration error:",a);let e=document.querySelector("#error-msg");e||(e=document.createElement("div"),e.id="error-msg",e.classList.add("alert","alert-danger","mt-3"),t.appendChild(e)),e.textContent="Error connecting to server"}})});(()=>{const t=document.querySelectorAll(".needs-validation");Array.from(t).forEach(o=>{o.addEventListener("submit",n=>{o.checkValidity()||(n.preventDefault(),n.stopPropagation()),o.classList.add("was-validated")},!1)})})();document.querySelectorAll('[data-bs-toggle="popover"]').forEach(t=>{new l(t)});
